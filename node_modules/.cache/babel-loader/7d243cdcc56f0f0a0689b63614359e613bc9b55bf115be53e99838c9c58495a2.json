{"ast":null,"code":"var _jsxFileName = \"/Users/autumn/Desktop/moviely/moviely/src/pages/MycalPage.js\",\n  _s = $RefreshSig$();\n// MycalPage.js\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport FullCalendar from '@fullcalendar/react';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport interactionPlugin from '@fullcalendar/interaction'; // for interaction capabilities like clicking\nimport Popcal from './Popcal'; // custom modal component for entering and editing movie data\nimport '../css/MycalPage.css';\nimport logoImage from '../logo.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MycalPage() {\n  _s();\n  const [isPopupOpen, setIsPopupOpen] = useState(false); // state to manage modal visibility\n  const [selectedDate, setSelectedDate] = useState(null); // state to keep track of the selected date\n  const [selectedEvent, setSelectedEvent] = useState(null); // state to store the event selected for editing\n  const [events, setEvents] = useState([]); // state to store all events\n\n  // Function to handle when a date is clicked on the calendar\n  const handleDateClick = ({\n    dateStr\n  }) => {\n    setSelectedDate(dateStr); // set the clicked date\n    setSelectedEvent(null); // clear any previously selected event\n    setIsPopupOpen(true); // open the modal for new event entry\n  };\n\n  // Function to handle 'Record Movie' button click\n  const handleRecordButtonClick = () => {\n    setSelectedDate(new Date().toISOString().split('T')[0]); // set today's date for new entry\n    setSelectedEvent(null); // ensure no event is selected\n    setIsPopupOpen(true); // open the modal\n  };\n\n  // Function to close the modal\n  const handleClosePopup = () => {\n    setIsPopupOpen(false);\n  };\n\n  // Function to save or update the movie data\n  const handleSaveMovieData = movieData => {\n    const eventDetails = {\n      id: selectedEvent ? selectedEvent.id : Date.now(),\n      title: movieData.movie_title,\n      start: movieData.watch_date || selectedDate,\n      allDay: true,\n      extendedProps: {\n        movie_content: movieData.movie_content\n      }\n    };\n    if (selectedEvent) {\n      // If an event is being edited, update it\n      const updatedEvents = events.map(event => event.id === selectedEvent.id ? eventDetails : event);\n      setEvents(updatedEvents);\n    } else {\n      // If a new event is being added, add it to the events array\n      setEvents([...events, eventDetails]);\n    }\n    setIsPopupOpen(false); // close the modal after saving\n  };\n\n  // Function to handle when an event (movie title) is clicked\n  const handleEventClick = ({\n    event\n  }) => {\n    setSelectedDate(event.startStr);\n    setSelectedEvent({\n      id: event.id,\n      title: event.title,\n      start: event.startStr,\n      movie_content: event.extendedProps.movie_content\n    });\n    setIsPopupOpen(true); // open the modal for editing the selected event\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mycalPage\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: logoImage,\n      alt: \"Logo\",\n      className: \"myPageLogo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"myPageTitle\",\n      children: \"\\uB9C8\\uC774\\uD398\\uC774\\uC9C0\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"navButtons\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/my/watched\",\n        className: \"navButton\",\n        children: \"\\uC774\\uBBF8 \\uBCF8 \\uC601\\uD654\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/my/wishlist\",\n        className: \"navButton\",\n        children: \"\\uBCF4\\uACE0\\uC2F6\\uC740 \\uC601\\uD654\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/my/calendar\",\n        className: \"navButton active\",\n        children: \"MOVIELY \\uCE98\\uB9B0\\uB354\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleRecordButtonClick,\n      className: \"recordButton\",\n      children: \"\\uC601\\uD654 \\uAD00\\uB78C \\uAE30\\uB85D\\uD558\\uAE30\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"calendar-container\",\n      children: /*#__PURE__*/_jsxDEV(FullCalendar, {\n        plugins: [dayGridPlugin, interactionPlugin],\n        initialView: \"dayGridMonth\",\n        dateClick: handleDateClick,\n        eventClick: handleEventClick,\n        events: events,\n        height: \"470px\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), isPopupOpen && /*#__PURE__*/_jsxDEV(Popcal, {\n      isOpen: isPopupOpen,\n      onClose: handleClosePopup,\n      onSave: handleSaveMovieData,\n      initialData: selectedEvent ? {\n        watch_date: selectedEvent.start,\n        movie_title: selectedEvent.title,\n        movie_content: selectedEvent.extendedProps.movie_content\n      } : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n}\n_s(MycalPage, \"X06X7LGWhJflh/XrnShsMuRMg+Q=\");\n_c = MycalPage;\nexport default MycalPage;\nvar _c;\n$RefreshReg$(_c, \"MycalPage\");","map":{"version":3,"names":["React","useState","Link","FullCalendar","dayGridPlugin","interactionPlugin","Popcal","logoImage","jsxDEV","_jsxDEV","MycalPage","_s","isPopupOpen","setIsPopupOpen","selectedDate","setSelectedDate","selectedEvent","setSelectedEvent","events","setEvents","handleDateClick","dateStr","handleRecordButtonClick","Date","toISOString","split","handleClosePopup","handleSaveMovieData","movieData","eventDetails","id","now","title","movie_title","start","watch_date","allDay","extendedProps","movie_content","updatedEvents","map","event","handleEventClick","startStr","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","to","onClick","plugins","initialView","dateClick","eventClick","height","isOpen","onClose","onSave","initialData","_c","$RefreshReg$"],"sources":["/Users/autumn/Desktop/moviely/moviely/src/pages/MycalPage.js"],"sourcesContent":["// MycalPage.js\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport FullCalendar from '@fullcalendar/react';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport interactionPlugin from '@fullcalendar/interaction'; // for interaction capabilities like clicking\nimport Popcal from './Popcal'; // custom modal component for entering and editing movie data\nimport '../css/MycalPage.css';\nimport logoImage from '../logo.png';\n\nfunction MycalPage() {\n  const [isPopupOpen, setIsPopupOpen] = useState(false); // state to manage modal visibility\n  const [selectedDate, setSelectedDate] = useState(null); // state to keep track of the selected date\n  const [selectedEvent, setSelectedEvent] = useState(null); // state to store the event selected for editing\n  const [events, setEvents] = useState([]); // state to store all events\n\n  // Function to handle when a date is clicked on the calendar\n  const handleDateClick = ({ dateStr }) => {\n    setSelectedDate(dateStr); // set the clicked date\n    setSelectedEvent(null); // clear any previously selected event\n    setIsPopupOpen(true); // open the modal for new event entry\n  };\n\n  // Function to handle 'Record Movie' button click\n  const handleRecordButtonClick = () => {\n    setSelectedDate(new Date().toISOString().split('T')[0]); // set today's date for new entry\n    setSelectedEvent(null); // ensure no event is selected\n    setIsPopupOpen(true); // open the modal\n  };\n\n  // Function to close the modal\n  const handleClosePopup = () => {\n    setIsPopupOpen(false);\n  };\n\n  // Function to save or update the movie data\n  const handleSaveMovieData = (movieData) => {\n    const eventDetails = {\n      id: selectedEvent ? selectedEvent.id : Date.now(),\n      title: movieData.movie_title,\n      start: movieData.watch_date || selectedDate,\n      allDay: true,\n      extendedProps: {\n        movie_content: movieData.movie_content\n      }\n    };\n\n    if (selectedEvent) {\n      // If an event is being edited, update it\n      const updatedEvents = events.map(event => \n        event.id === selectedEvent.id ? eventDetails : event\n      );\n      setEvents(updatedEvents);\n    } else {\n      // If a new event is being added, add it to the events array\n      setEvents([...events, eventDetails]);\n    }\n    setIsPopupOpen(false); // close the modal after saving\n  };\n\n  // Function to handle when an event (movie title) is clicked\n  const handleEventClick = ({ event }) => {\n    setSelectedDate(event.startStr);\n    setSelectedEvent({\n      id: event.id,\n      title: event.title,\n      start: event.startStr,\n      movie_content: event.extendedProps.movie_content\n    });\n    setIsPopupOpen(true); // open the modal for editing the selected event\n  };\n\n  return (\n    <div className=\"mycalPage\">\n      <img src={logoImage} alt=\"Logo\" className=\"myPageLogo\" />\n      <div className=\"myPageTitle\">마이페이지</div>\n      <div className=\"navButtons\">\n        <Link to=\"/my/watched\" className=\"navButton\">이미 본 영화</Link>\n        <Link to=\"/my/wishlist\" className=\"navButton\">보고싶은 영화</Link>\n        <Link to=\"/my/calendar\" className=\"navButton active\">MOVIELY 캘린더</Link>\n      </div>\n      <button onClick={handleRecordButtonClick} className=\"recordButton\">\n        영화 관람 기록하기\n      </button>\n      <div className=\"calendar-container\">\n        <FullCalendar\n          plugins={[dayGridPlugin, interactionPlugin]}\n          initialView=\"dayGridMonth\"\n          dateClick={handleDateClick}\n          eventClick={handleEventClick}\n          events={events}\n          height=\"470px\"\n        />\n      </div>\n      {isPopupOpen && (\n        <Popcal\n          isOpen={isPopupOpen}\n          onClose={handleClosePopup}\n          onSave={handleSaveMovieData}\n          initialData={selectedEvent ? {\n            watch_date: selectedEvent.start,\n            movie_title: selectedEvent.title,\n            movie_content: selectedEvent.extendedProps.movie_content\n          } : null}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default MycalPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}