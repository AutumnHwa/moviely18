{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams,useNavigate,Link}from'react-router-dom';import Papa from'papaparse';import moviesCSV from'../movie.csv';import watchaLogo from'../watcha.png';import netflixLogo from'../netflix.png';import disneyPlusLogo from'../disneyplus.png';import wavveLogo from'../wavve.png';import detailLogoImage from'../logo.png';import Popcho from'../pages/Popcho';import'../css/MvdetailPage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const flatrateLogos={'disney plus':disneyPlusLogo,'netflix':netflixLogo,'watcha':watchaLogo,'wavve':wavveLogo};const flatrateUrls={'disney plus':'https://www.disneyplus.com','netflix':'https://www.netflix.com','watcha':'https://www.watcha.com','wavve':'https://www.wavve.com'};const flatrateNames={'disney plus':'디즈니 플러스','netflix':'넷플릭스','watcha':'왓챠','wavve':'웨이브'};const genreMapping={'28':'액션','12':'모험','16':'애니메이션','35':'코미디','80':'범죄','99':'다큐멘터리','18':'드라마','10751':'가족','14':'판타지','36':'역사','27':'공포','10402':'음악','9648':'미스터리','10749':'로맨스','878':'SF','10770':'TV 영화','53':'스릴러','10752':'전쟁','37':'서부'};const MvdetailPage=()=>{const{id}=useParams();const navigate=useNavigate();const[movie,setMovie]=useState(null);const[loading,setLoading]=useState(true);const[rating,setRating]=useState(0);const[showModal,setShowModal]=useState(false);const[message,setMessage]=useState('');const userId=sessionStorage.getItem('userId');useEffect(()=>{Papa.parse(moviesCSV,{download:true,header:true,complete:result=>{const foundMovie=result.data.find(movie=>parseInt(movie.movie_id,10)===parseInt(id,10));if(foundMovie){console.log(\"Before Mapping:\",foundMovie.genre);foundMovie.genre=foundMovie.genre.split(',').map(genreId=>genreMapping[genreId.trim()]||genreId.trim()).join(', ');console.log(\"After Mapping:\",foundMovie.genre);setMovie(foundMovie);}setLoading(false);}});},[id]);const handleStarClick=async index=>{const newRating=index+1;setRating(newRating);const ratingData={user_id:userId,movie_id:movie.movie_id,rating:parseFloat(newRating)};try{const response=await fetch('http://43.203.39.119:8080/ratings',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(ratingData)});const responseData=await response.text();try{const jsonResponse=JSON.parse(responseData);if(response.ok){setMessage('Rating submitted successfully!');}else{console.error('Rating submission failed:',jsonResponse);setMessage('Failed to submit rating: '+(jsonResponse.message||'Unknown error'));}}catch(e){console.error('JSON parsing error:',responseData);setMessage('Failed to submit rating: Invalid JSON response.');}}catch(error){console.error('Error:',error);setMessage('Failed to submit rating.');}setTimeout(()=>{setMessage('');},3000);};const handleAddClick=()=>{setShowModal(true);};const handleCloseModal=()=>{setShowModal(false);};const handleSaveModal=option=>{console.log(\"저장 옵션:\",option);setShowModal(false);};const goToMyPage=()=>{navigate('/my/watched');};if(loading){return/*#__PURE__*/_jsx(\"div\",{style:{color:'white',textAlign:'center'},children:\"Loading...\"});}if(!movie){return/*#__PURE__*/_jsx(\"div\",{style:{color:'white',textAlign:'center'},children:\"Movie not found\"});}const validFlatrate=typeof movie.flatrate==='string'?movie.flatrate.split(', ').map(service=>service.trim().toLowerCase()).filter(Boolean):[];const posterUrl=movie.poster_path?\"http://image.tmdb.org/t/p/w500\".concat(movie.poster_path):'https://via.placeholder.com/154x231?text=No+Image';return/*#__PURE__*/_jsxs(\"div\",{className:\"movie-detail-page\",children:[/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"detail-logo\",children:/*#__PURE__*/_jsx(\"img\",{src:detailLogoImage,alt:\"Logo\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-left\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"mypage-button\",onClick:goToMyPage,children:\"\\uB9C8\\uC774\\uD398\\uC774\\uC9C0\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"search-bar\",placeholder:\"\\uAC80\\uC0C9\\uC5B4\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"movie-info-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left-column\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"detail-movie-title\",children:movie.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-rating-and-add\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"movie-rating\",children:[...Array(5)].map((_,index)=>/*#__PURE__*/_jsx(\"span\",{className:\"star \".concat(rating>index?'filled':''),onClick:()=>handleStarClick(index),children:\"\\u2605\"},index))}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddClick,className:\"detail-add-button\",children:\"+\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"movie-details\",children:[\"\\uAC1C\\uBD09\\uC77C : \",movie.release_date]}),/*#__PURE__*/_jsxs(\"p\",{className:\"movie-details\",children:[\"\\uC7A5\\uB974: \",movie.genre]}),/*#__PURE__*/_jsxs(\"p\",{className:\"movie-details\",children:[\"\\uAD6D\\uAC00: \",movie.production_countries]}),/*#__PURE__*/_jsxs(\"p\",{className:\"movie-runtime\",children:[\"\\uC0C1\\uC601\\uC2DC\\uAC04: \",movie.run_time,\"\\uBD84\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"movie-cast\",children:[\"\\uCD9C\\uC5F0\\uC9C4: \",movie.cast]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"right-column\",children:/*#__PURE__*/_jsx(\"img\",{src:posterUrl,alt:movie.title,className:\"movie-poster\"})})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"custom-hr\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"movie-description\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"overview\",children:\"\\uAC1C\\uC694\"}),/*#__PURE__*/_jsx(\"p\",{className:\"fulloverview\",children:movie.overview})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"custom-hr\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ott-buttons-container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"ott-title\",children:\"\\uBC14\\uB85C\\uAC00\\uAE30\"}),validFlatrate.map((platform,index)=>/*#__PURE__*/_jsxs(\"button\",{className:\"ott-button\",onClick:()=>window.open(flatrateUrls[platform],'_blank'),children:[/*#__PURE__*/_jsx(\"img\",{src:flatrateLogos[platform],alt:platform,className:\"ott-logo\"}),/*#__PURE__*/_jsx(\"span\",{children:flatrateNames[platform]}),\" \"]},index))]}),showModal&&/*#__PURE__*/_jsx(Popcho,{onClose:handleCloseModal,onSave:handleSaveModal}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"popupContainer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popupContent\",children:[/*#__PURE__*/_jsx(\"p\",{children:message}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setMessage(''),children:\"\\uB2EB\\uAE30\"})]})})]});};export default MvdetailPage;","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","Link","Papa","moviesCSV","watchaLogo","netflixLogo","disneyPlusLogo","wavveLogo","detailLogoImage","Popcho","jsx","_jsx","jsxs","_jsxs","flatrateLogos","flatrateUrls","flatrateNames","genreMapping","MvdetailPage","id","navigate","movie","setMovie","loading","setLoading","rating","setRating","showModal","setShowModal","message","setMessage","userId","sessionStorage","getItem","parse","download","header","complete","result","foundMovie","data","find","parseInt","movie_id","console","log","genre","split","map","genreId","trim","join","handleStarClick","index","newRating","ratingData","user_id","parseFloat","response","fetch","method","headers","body","JSON","stringify","responseData","text","jsonResponse","ok","error","e","setTimeout","handleAddClick","handleCloseModal","handleSaveModal","option","goToMyPage","style","color","textAlign","children","validFlatrate","flatrate","service","toLowerCase","filter","Boolean","posterUrl","poster_path","concat","className","to","src","alt","onClick","type","placeholder","title","Array","_","release_date","production_countries","run_time","cast","overview","platform","window","open","onClose","onSave"],"sources":["/Users/autumn/moviely 오후 2.30.27/src/pages/MvdetailPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams, useNavigate, Link } from 'react-router-dom';\nimport Papa from 'papaparse';\nimport moviesCSV from '../movie.csv';\nimport watchaLogo from '../watcha.png';\nimport netflixLogo from '../netflix.png';\nimport disneyPlusLogo from '../disneyplus.png';\nimport wavveLogo from '../wavve.png';\nimport detailLogoImage from '../logo.png';\nimport Popcho from '../pages/Popcho';\nimport '../css/MvdetailPage.css';\n\nconst flatrateLogos = {\n  'disney plus': disneyPlusLogo,\n  'netflix': netflixLogo,\n  'watcha': watchaLogo,\n  'wavve': wavveLogo,\n};\n\nconst flatrateUrls = {\n  'disney plus': 'https://www.disneyplus.com',\n  'netflix': 'https://www.netflix.com',\n  'watcha': 'https://www.watcha.com',\n  'wavve': 'https://www.wavve.com',\n};\n\nconst flatrateNames = {\n  'disney plus': '디즈니 플러스',\n  'netflix': '넷플릭스',\n  'watcha': '왓챠',\n  'wavve': '웨이브',\n};\n\nconst genreMapping = {\n  '28': '액션',\n  '12': '모험',\n  '16': '애니메이션',\n  '35': '코미디',\n  '80': '범죄',\n  '99': '다큐멘터리',\n  '18': '드라마',\n  '10751': '가족',\n  '14': '판타지',\n  '36': '역사',\n  '27': '공포',\n  '10402': '음악',\n  '9648': '미스터리',\n  '10749': '로맨스',\n  '878': 'SF',\n  '10770': 'TV 영화',\n  '53': '스릴러',\n  '10752': '전쟁',\n  '37': '서부'\n};\n\nconst MvdetailPage = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [movie, setMovie] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [rating, setRating] = useState(0);\n  const [showModal, setShowModal] = useState(false);\n  const [message, setMessage] = useState('');\n  const userId = sessionStorage.getItem('userId'); \n\n  useEffect(() => {\n    Papa.parse(moviesCSV, {\n      download: true,\n      header: true,\n      complete: (result) => {\n        const foundMovie = result.data.find(movie => parseInt(movie.movie_id, 10) === parseInt(id, 10));\n        if (foundMovie) {\n          console.log(\"Before Mapping:\", foundMovie.genre);\n          foundMovie.genre = foundMovie.genre.split(',').map(genreId => genreMapping[genreId.trim()] || genreId.trim()).join(', ');\n          console.log(\"After Mapping:\", foundMovie.genre);\n          setMovie(foundMovie);\n        }\n        setLoading(false);\n      },\n    });\n  }, [id]);\n\n  const handleStarClick = async (index) => {\n    const newRating = index + 1;\n    setRating(newRating);\n\n    const ratingData = {\n      user_id: userId,\n      movie_id: movie.movie_id,\n      rating: parseFloat(newRating)\n    };\n\n    try {\n      const response = await fetch('http://43.203.39.119:8080/ratings', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(ratingData),\n      });\n\n      const responseData = await response.text(); \n      try {\n        const jsonResponse = JSON.parse(responseData);\n        if (response.ok) {\n          setMessage('Rating submitted successfully!');\n        } else {\n          console.error('Rating submission failed:', jsonResponse);\n          setMessage('Failed to submit rating: ' + (jsonResponse.message || 'Unknown error'));\n        }\n      } catch (e) {\n        console.error('JSON parsing error:', responseData);\n        setMessage('Failed to submit rating: Invalid JSON response.');\n      }\n\n    } catch (error) {\n      console.error('Error:', error);\n      setMessage('Failed to submit rating.');\n    }\n\n    setTimeout(() => {\n      setMessage('');\n    }, 3000);\n  };\n\n  const handleAddClick = () => {\n    setShowModal(true);\n  };\n\n  const handleCloseModal = () => {\n    setShowModal(false);\n  };\n\n  const handleSaveModal = (option) => {\n    console.log(\"저장 옵션:\", option);\n    setShowModal(false);\n  };\n\n  const goToMyPage = () => {\n    navigate('/my/watched');\n  };\n\n  if (loading) {\n    return <div style={{ color: 'white', textAlign: 'center' }}>Loading...</div>;\n  }\n\n  if (!movie) {\n    return <div style={{ color: 'white', textAlign: 'center' }}>Movie not found</div>;\n  }\n\n  const validFlatrate = typeof movie.flatrate === 'string' ? movie.flatrate.split(', ').map(service => service.trim().toLowerCase()).filter(Boolean) : [];\n\n  const posterUrl = movie.poster_path ? `http://image.tmdb.org/t/p/w500${movie.poster_path}` : 'https://via.placeholder.com/154x231?text=No+Image';\n\n  return (\n    <div className=\"movie-detail-page\">\n      <header>\n        <Link to=\"/\" className=\"detail-logo\">\n          <img src={detailLogoImage} alt=\"Logo\" />\n        </Link>\n        <div className=\"header-left\">\n          <button className=\"mypage-button\" onClick={goToMyPage}>마이페이지</button>\n          <input type=\"text\" className=\"search-bar\" placeholder=\"검색어를 입력하세요\" />\n        </div>\n      </header>\n      <div className=\"movie-info-container\">\n        <div className=\"left-column\">\n          <h1 className=\"detail-movie-title\">{movie.title}</h1>\n          <div className=\"detail-rating-and-add\">\n            <div className=\"movie-rating\">\n              {[...Array(5)].map((_, index) => (\n                <span\n                  key={index}\n                  className={`star ${rating > index ? 'filled' : ''}`}\n                  onClick={() => handleStarClick(index)}\n                >\n                  ★\n                </span>\n              ))}\n            </div>\n            <button onClick={handleAddClick} className=\"detail-add-button\">+</button>\n          </div>\n          <p className=\"movie-details\">개봉일 : {movie.release_date}</p>\n          <p className=\"movie-details\">장르: {movie.genre}</p>\n          <p className=\"movie-details\">국가: {movie.production_countries}</p>\n          <p className=\"movie-runtime\">상영시간: {movie.run_time}분</p>\n          <p className=\"movie-cast\">출연진: {movie.cast}</p>\n        </div>\n        <div className=\"right-column\">\n          <img src={posterUrl} alt={movie.title} className=\"movie-poster\" />\n        </div>\n      </div>\n      <hr className=\"custom-hr\" />\n      <div className=\"movie-description\">\n        <h2 className='overview'>개요</h2>\n        <p className='fulloverview'>{movie.overview}</p>\n      </div>\n      <hr className=\"custom-hr\" />\n      <div className=\"ott-buttons-container\">\n        <h2 className=\"ott-title\">바로가기</h2>\n        {validFlatrate.map((platform, index) => (\n          <button\n            key={index}\n            className=\"ott-button\"\n            onClick={() => window.open(flatrateUrls[platform], '_blank')}\n          >\n            <img src={flatrateLogos[platform]} alt={platform} className=\"ott-logo\" />\n            <span>{flatrateNames[platform]}</span> {/* 플랫폼 이름을 한글로 변환 */}\n          </button>\n        ))}\n      </div>\n      {showModal && <Popcho onClose={handleCloseModal} onSave={handleSaveModal} />}\n      {message && <div className=\"popupContainer\">\n        <div className=\"popupContent\">\n          <p>{message}</p>\n          <button onClick={() => setMessage('')}>닫기</button>\n        </div>\n      </div>}\n    </div>\n  );\n};\n\nexport default MvdetailPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}